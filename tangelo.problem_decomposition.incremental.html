<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>tangelo.problem_decomposition.incremental package &mdash; tangelo 0.4.3 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="_static/css/custom.css?v=c473181c" />

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="_static/documentation_options.js?v=5bfaad31"></script>
        <script src="_static/doctools.js?v=9a2dae69"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="tangelo.problem_decomposition.oniom package" href="tangelo.problem_decomposition.oniom.html" />
    <link rel="prev" title="tangelo.problem_decomposition.electron_localization package" href="tangelo.problem_decomposition.electron_localization.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            tangelo
              <img src="_static/tangelo_logo_white.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="TUTORIALS.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="CONTRIBUTIONS.html">Contributions guidelines</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="tangelo.html">tangelo package</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="tangelo.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="tangelo.algorithms.html">tangelo.algorithms package</a></li>
<li class="toctree-l3"><a class="reference internal" href="tangelo.helpers.html">tangelo.helpers package</a></li>
<li class="toctree-l3"><a class="reference internal" href="tangelo.linq.html">tangelo.linq package</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="tangelo.problem_decomposition.html">tangelo.problem_decomposition package</a><ul class="current">
<li class="toctree-l4 current"><a class="reference internal" href="tangelo.problem_decomposition.html#subpackages">Subpackages</a></li>
<li class="toctree-l4"><a class="reference internal" href="tangelo.problem_decomposition.html#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="tangelo.problem_decomposition.html#module-tangelo.problem_decomposition.problem_decomposition">tangelo.problem_decomposition.problem_decomposition module</a></li>
<li class="toctree-l4"><a class="reference internal" href="tangelo.problem_decomposition.html#module-tangelo.problem_decomposition">Module contents</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="tangelo.toolboxes.html">tangelo.toolboxes package</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="tangelo.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="tangelo.html#module-tangelo.molecule_library">tangelo.molecule_library module</a></li>
<li class="toctree-l2"><a class="reference internal" href="tangelo.html#module-tangelo">Module contents</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">tangelo</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="tangelo.html">tangelo package</a></li>
          <li class="breadcrumb-item"><a href="tangelo.problem_decomposition.html">tangelo.problem_decomposition package</a></li>
      <li class="breadcrumb-item active">tangelo.problem_decomposition.incremental package</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/tangelo.problem_decomposition.incremental.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="tangelo-problem-decomposition-incremental-package">
<h1>tangelo.problem_decomposition.incremental package<a class="headerlink" href="#tangelo-problem-decomposition-incremental-package" title="Link to this heading"></a></h1>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Link to this heading"></a></h2>
</section>
<section id="module-tangelo.problem_decomposition.incremental.incremental_helper">
<span id="tangelo-problem-decomposition-incremental-incremental-helper-module"></span><h2>tangelo.problem_decomposition.incremental.incremental_helper module<a class="headerlink" href="#module-tangelo.problem_decomposition.incremental.incremental_helper" title="Link to this heading"></a></h2>
<p>This file provides helpers in order to import data coming from an incremental
job (MIFNO or iFCI) run on QEMIST Cloud, providing the users with both fragment
information as well as reference results obtained by the classical solvers in
QEMIST Cloud. The fragments can be passed to a quantum solver or be used for a
quantum computing experiment.</p>
<p>MIFNO references:
- Verma, L. Huntington, M. P. Coons, Y. Kawashima, T. Yamazaki and A. Zaribafiyan
The Journal of Chemical Physics 155, 034110 (2021).</p>
<p>iFCI references:
- Paul M. Zimmerman, J. Chem. Phys., 146, 104102 (2017).
- Paul M. Zimmerman, J Chem. Phys., 146, 224104 (2017).
- Alan E. Rask and Paul M. Zimmerman, J. Phys. Chem. A, 125, 7, 1598-1609 (2021).</p>
<dl class="py class">
<dt class="sig sig-object py" id="tangelo.problem_decomposition.incremental.incremental_helper.MethodOfIncrementsHelper">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">tangelo.problem_decomposition.incremental.incremental_helper.</span></span><span class="sig-name descname"><span class="pre">MethodOfIncrementsHelper</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">log_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">full_result</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#tangelo.problem_decomposition.incremental.incremental_helper.MethodOfIncrementsHelper" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Python class to post-process, fetch and manipulate QEMIST Cloud
incremental results. This is referring to the Method of Increments (MI).
MI-FNO and iFCI results are both supported by this class.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="tangelo.problem_decomposition.incremental.incremental_helper.MethodOfIncrementsHelper.e_tot">
<span class="sig-name descname"><span class="pre">e_tot</span></span><a class="headerlink" href="#tangelo.problem_decomposition.incremental.incremental_helper.MethodOfIncrementsHelper.e_tot" title="Link to this definition"></a></dt>
<dd><p>Total incremental energy.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="tangelo.problem_decomposition.incremental.incremental_helper.MethodOfIncrementsHelper.e_corr">
<span class="sig-name descname"><span class="pre">e_corr</span></span><a class="headerlink" href="#tangelo.problem_decomposition.incremental.incremental_helper.MethodOfIncrementsHelper.e_corr" title="Link to this definition"></a></dt>
<dd><p>Correlation energy (e_tot - e_mf).</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="tangelo.problem_decomposition.incremental.incremental_helper.MethodOfIncrementsHelper.e_mf">
<span class="sig-name descname"><span class="pre">e_mf</span></span><a class="headerlink" href="#tangelo.problem_decomposition.incremental.incremental_helper.MethodOfIncrementsHelper.e_mf" title="Link to this definition"></a></dt>
<dd><p>Mean-field energy.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="tangelo.problem_decomposition.incremental.incremental_helper.MethodOfIncrementsHelper.frag_info">
<span class="sig-name descname"><span class="pre">frag_info</span></span><a class="headerlink" href="#tangelo.problem_decomposition.incremental.incremental_helper.MethodOfIncrementsHelper.frag_info" title="Link to this definition"></a></dt>
<dd><p>Information about each fragment. The keys are related
to the truncation number (int) . The nested dictionaries have keys</p>
<blockquote>
<div><p>refering to the sampled active space (e.g. ‘(1,)’ or ‘(0, 2)’) They</p>
</div></blockquote>
<p>contain information about the correction term, epsilon, list of
truncated orbitals and more.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl>
<dt>Properties:</dt><dd><dl class="simple">
<dt>to_dataframe (pandas.DataFrame): Converted frag_info dict into a pandas</dt><dd><p>DataFrame.</p>
</dd>
</dl>
<p>fragment_ids (list of str): List of all fragment identifiers.
frag_info_flattened (dictionary): The nested frag_info without the first</p>
<blockquote>
<div><p>layer (keys = truncation number).</p>
</div></blockquote>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="tangelo.problem_decomposition.incremental.incremental_helper.MethodOfIncrementsHelper.compute_fermionoperator">
<span class="sig-name descname"><span class="pre">compute_fermionoperator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">molecule</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frag_id</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#tangelo.problem_decomposition.incremental.incremental_helper.MethodOfIncrementsHelper.compute_fermionoperator" title="Link to this definition"></a></dt>
<dd><p>Compute the fermionic Hamiltonian for an incremental fragment.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>molecule</strong> (<a class="reference internal" href="tangelo.toolboxes.molecular_computation.html#tangelo.toolboxes.molecular_computation.molecule.SecondQuantizedMolecule" title="tangelo.toolboxes.molecular_computation.molecule.SecondQuantizedMolecule"><em>SecondQuantizedMolecule</em></a>) – Full molecule description.</p></li>
<li><p><strong>frag_id</strong> (<em>str</em>) – Fragment id, e.g. “(0, )”, “(1, 2)”, …</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>FermionOperator</strong> – Fermionic operator for the specified fragment id.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="tangelo.problem_decomposition.incremental.incremental_helper.MethodOfIncrementsHelper.frag_info_flattened">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">frag_info_flattened</span></span><a class="headerlink" href="#tangelo.problem_decomposition.incremental.incremental_helper.MethodOfIncrementsHelper.frag_info_flattened" title="Link to this definition"></a></dt>
<dd><p>Output the nested frag_info without the first layer.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="tangelo.problem_decomposition.incremental.incremental_helper.MethodOfIncrementsHelper.fragment_ids">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">fragment_ids</span></span><a class="headerlink" href="#tangelo.problem_decomposition.incremental.incremental_helper.MethodOfIncrementsHelper.fragment_ids" title="Link to this definition"></a></dt>
<dd><p>Output the fragment ids in a list.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="tangelo.problem_decomposition.incremental.incremental_helper.MethodOfIncrementsHelper.mi_summation">
<span class="sig-name descname"><span class="pre">mi_summation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">user_provided_energies</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#tangelo.problem_decomposition.incremental.incremental_helper.MethodOfIncrementsHelper.mi_summation" title="Link to this definition"></a></dt>
<dd><p>Recompute the total energy for the method of increments (MI).
Each increment corresponds to “new” correlation energy from the n-body
problem. This method makes computing the total energy with new
results possible.</p>
<p>It computes the epsilons:
epsilon_{i} = E_c(i)
epsilon_{ij} = E_c(ij) - epsilon_{i} - epsilon_{i}
epsilon_{ijk} = E_c(ijk) - epsilon_{ij} - epsilon_{ik}</p>
<blockquote>
<div><ul class="simple">
<li><p>epsilon_{jk} - epsilon_{i} - epsilon_{j} - epsilon_{k}</p></li>
</ul>
</div></blockquote>
<p>etc.</p>
<p>A correction term per fragment is considered if applicable. For MI-FNO,
there is an MP2 correction for the truncated virtual space. For iFCI,
there is no such correction.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>user_provided_energies</strong> (<em>dict</em>) – New energy values provided by the
user, used instead of the corresponding pre-computed ones. E.g.
{“(0, )”: -1.234} or {“(1, )”: -1.234, “(0, 1)”: -5.678}.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>float</strong> – Method of increment total energy.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="tangelo.problem_decomposition.incremental.incremental_helper.MethodOfIncrementsHelper.n_electrons_spinorbs">
<span class="sig-name descname"><span class="pre">n_electrons_spinorbs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">frag_id</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#tangelo.problem_decomposition.incremental.incremental_helper.MethodOfIncrementsHelper.n_electrons_spinorbs" title="Link to this definition"></a></dt>
<dd><p>Output the number of electrons and spinorbitals for a given fragment.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>frag_id</strong> (<em>str</em>) – Fragment id, e.g. “(0, )”, “(1, 2)”, …</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>int, int</strong> – Number of electrons, number of spinorbitals.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="tangelo.problem_decomposition.incremental.incremental_helper.MethodOfIncrementsHelper.read_mi_info">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">read_mi_info</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">full_result</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#tangelo.problem_decomposition.incremental.incremental_helper.MethodOfIncrementsHelper.read_mi_info" title="Link to this definition"></a></dt>
<dd><p>Method to filter the relevant information in the full_result
dictionary.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>full_result</strong> (<em>dict</em>) – QEMIST Cloud output for the MI problem.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>(dict)</strong> – Simplified version of the MI result dictionary.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="tangelo.problem_decomposition.incremental.incremental_helper.MethodOfIncrementsHelper.retrieve_mo_coeff">
<span class="sig-name descname"><span class="pre">retrieve_mo_coeff</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source_folder</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'/home/runner/work/Tangelo/Tangelo'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prefix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'mo_coefficients_'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">suffix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'.h5'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#tangelo.problem_decomposition.incremental.incremental_helper.MethodOfIncrementsHelper.retrieve_mo_coeff" title="Link to this definition"></a></dt>
<dd><p>Function to fetch molecular orbital coefficients. The array is
stored in the [“mo_coefficients”] entry in the frag_info dictionary
attribute. Each MO coefficient file name should contain the QEMIST Cloud
problem handle for this fragment.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>source_folder</strong> (<em>str</em>) – Users can specify a path to a folder, where the
files containing the coefficients are stored. The default value
is the directory where the user’s python script is run.</p></li>
<li><p><strong>prefix</strong> (<em>str</em>) – Prefix for the file names. Default is
“<a href="#id1"><span class="problematic" id="id2">mo_coeffcients_</span></a>”.</p></li>
<li><p><strong>suffix</strong> (<em>str</em>) – Suffix for the file name structure, including the
file extension. Default is “.h5”.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="tangelo.problem_decomposition.incremental.incremental_helper.MethodOfIncrementsHelper.to_dataframe">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">to_dataframe</span></span><a class="headerlink" href="#tangelo.problem_decomposition.incremental.incremental_helper.MethodOfIncrementsHelper.to_dataframe" title="Link to this definition"></a></dt>
<dd><p>Outputs fragment information as a pandas.DataFrame.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-tangelo.problem_decomposition.incremental">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-tangelo.problem_decomposition.incremental" title="Link to this heading"></a></h2>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="tangelo.problem_decomposition.electron_localization.html" class="btn btn-neutral float-left" title="tangelo.problem_decomposition.electron_localization package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="tangelo.problem_decomposition.oniom.html" class="btn btn-neutral float-right" title="tangelo.problem_decomposition.oniom package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright SandboxAQ 2021-2024.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>